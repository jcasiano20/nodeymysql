{"ts":1351594146837,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"{\"ts\":1351581935337,\"silentsave\":true,\"restoring\":false,\"patch\":[[{\"diffs\":[[1,\"var mysql = require('mysql');\\r\\nvar database='node_app';\\r\\nvar table='productos';\\r\\n\\r\\nvar client=mysql.createClient({\\r\\n\\tuser:'root',\\r\\n\\tpassword:'',\\r\\n\\thost:'localhost'\\r\\n\\r\\n});\\r\\nclient.query('USE '+ database);\\r\\n\\r\\nexports.index = function(req, res) {\\r\\n  client.query(\\r\\n\\t\\t'SELECT * FROM ' + table,\\r\\n\\t\\tfunction(err,results,fields){\\r\\n\\t\\t\\tif(err){\\r\\n\\t\\t\\t\\tthrow err;\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tres.render('lista_productos',{\\r\\n\\t\\t\\t\\tproductos:results,\\r\\n\\t\\t\\t\\ttitle: 'Lista de Productos'\\r\\n\\t\\t\\t})\\r\\n\\t\\t\\r\\n\\t\\t})\\r\\n};\\r\\n\\r\\nexports.agregarproducto = function(req, res) {\\r\\n  \\tres.render('form_productos',{title: 'Ingresar producto'})\\r\\n};\\r\\n\\r\\n\\r\\nexports.grabarmensajes = function(req, res) {\\r\\n  \\tvar nombre=req.body.producto.nombre;\\r\\n\\t\\r\\n\\tclient.query(\\r\\n\\t'INSERT INTO '+ table+' '+\\r\\n\\t'SET nom_prod = ?',\\r\\n\\t[nombre]\\r\\n\\t);\\r\\n\\r\\n\\tres.redirect('/productos')\\r\\n};\\r\\n\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":806}]],\"length\":806}\n"]],"start1":0,"start2":0,"length1":0,"length2":1090}]],"length":1090}
